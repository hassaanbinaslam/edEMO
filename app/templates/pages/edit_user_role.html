{% extends 'layouts/base.html' %}
{% from 'forms/common.html' import edit_field %}
{% set title = 'Edit User Role' %}
{% block title %}{{title}}{% endblock %}
{% block content %}

<div class="container">
    <center><h1>{{title}}</h1></center>
</div>

<div class="container">
    <center>
        <div class="col-lg-4 col-lg-offset-4">
            <form method="post" class="form-horizontal">
                <div class="form-group">
                    <h4>Enter email address of the user whose role you want to edit</h4>
                    <input id="email" name="email" type="text" class="form-control" placeholder="email address"
                           required>
                </div>
                <button type="submit" class="btn btn-default" name="btn" value="search">Search</button>
            </form>

            <!-- Display Alerts :Start -->
            {% include 'layouts/alerts.html'%}
            <!-- Display Alerts :End -->

        </div>
    </center>
</div>

{% if user %}
<div class="container">
    <hr>
    <center>
        <div class="col-lg-4 col-lg-offset-4">
            <form method="post" class="form-horizontal">
                <h2>Entered User Details</h2>

                <div class="form-group">
                    <!-- User Email -->
                    <div class="input-group">
                        <span class="input-group-addon" id="basic-addon1" style="padding-right: 15px">Email</span>
                        <input id="user_email" name="user_email" type="text" class="form-control" readonly aria-describedby="basic-addon1"
                               value={{user.email}}>
                    </div>

                    <!-- User Name -->
                    <div class="input-group">
                        <span class="input-group-addon" id="basic-addon2">Name</span>
                        <input id="user_name" name="user_name" type="text" class="form-control" readonly aria-describedby="basic-addon2"
                               value={{user.name}}>
                    </div>

                    <!-- Current Role -->
                    <div class="input-group">
                        <span class="input-group-addon" id="basic-addon3">Current Role</span>
                        <input type="text" class="form-control" readonly aria-describedby="basic-addon3"
                               value={{role_list[user.role_id-1].name}}>
                    </div>

                    <!-- New Role -->
                    <div class="input-group">
                        <span class="input-group-addon" id="basic-addon4" style="padding-right: 32px">New Role</span>
                        <select id="user_role" name="user_role" class="form-control" aria-describedby="basic-addon4"
                                required>
                            {% for role in role_list %}
                            <option value="{{role.id}}">{{role.name}}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <button type="submit" class="btn btn-default" name="btn" value="edit">Edit</button>
            </form>
        </div>
    </center>
</div>
{% endif %}

{% endblock %}